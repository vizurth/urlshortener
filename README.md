# ๐ URL Shortener Service

ะัะพััะพะต ะฟัะธะปะพะถะตะฝะธะต ะฝะฐ **Go (Golang)** ะดะปั ัะพะบัะฐัะตะฝะธั ัััะปะพะบ ั ะฒะพะทะผะพะถะฝะพัััั ััะฐะฝะตะฝะธั ััะฐัะธััะธะบะธ ะฟะตัะตัะพะดะพะฒ.

## ๐ ะะพะทะผะพะถะฝะพััะธ

- ะะตะฝะตัะฐัะธั ะบะพัะพัะบะธั ัััะปะพะบ (ะฐะฒัะพะผะฐัะธัะตัะบะฐั ะธะปะธ ั ะฒะฐัะธะผ ะบะฐััะพะผะฝัะผ ะฐะปะธะฐัะพะผ)
    
- ะะตัะตะฝะฐะฟัะฐะฒะปะตะฝะธะต ะฟะพ ะบะพัะพัะบะพะน ัััะปะบะต ะฝะฐ ะพัะธะณะธะฝะฐะปัะฝัะน URL
    
- ะกะฑะพั ััะฐัะธััะธะบะธ ะฟะตัะตัะพะดะพะฒ (ะฒัะตะผั, IP-ะฐะดัะตั, User-Agent, ัััะฐะฝะฐ, ััััะพะนััะฒะพ)
    
- ะกัะพะบ ะถะธะทะฝะธ ะบะพัะพัะบะพะน ัััะปะบะธ ะฟะพ ัะผะพะปัะฐะฝะธั โ **24 ัะฐัะฐ**
    
- API ะฝะฐ ะฑะฐะทะต **Gin**
    

## ๐ ะกัะตะบ ัะตัะฝะพะปะพะณะธะน

- **Golang** (Gin Web Framework)
    
- **PostgreSQL** (ะดะปั ััะฐะฝะตะฝะธั ัััะปะพะบ ะธ ััะฐัะธััะธะบะธ)
    
- **Docker** / **Docker Compose** (ะพะฟัะธะพะฝะฐะปัะฝะพ)
    
- **Railway / GitHub Actions** ะดะปั ะดะตะฟะปะพั
    

---

## ๐ฆ ะฃััะฐะฝะพะฒะบะฐ ะธ ะปะพะบะฐะปัะฝัะน ะทะฐะฟััะบ

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั

```
git clone https://github.com/yourusername/urlshortener.git
cd urlshortener
```

### 2. ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั

ะกะพะทะดะฐะนัะต ัะฐะนะป `config/config.yaml`, ะตัะปะธ ะตะณะพ ะฝะตั. ะัะธะผะตั ะฝะฐัััะพะตะบ:

```
POSTGRES:
  POSTGRES_HOST: postgres
  POSTGRES_PORT: 5432
  POSTGRES_USER: root
  POSTGRES_PASSWORD: 1234
  POSTGRES_DB: postgres

REST_PORT: "8080"
```

ะะปะธ ะธัะฟะพะปัะทัะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั.

### 3. ะะฐะฟััะบ ัะตัะตะท Docker Compose

```
docker-compose up --build
```

ะญัะพ ะฟะพะดะฝะธะผะตั:

- ะะฐะทั ะดะฐะฝะฝัั PostgreSQL
    
- ะกะฐะผ ัะตัะฒะธั ะฝะฐ Go
    

### 4. ะะธะปะด ะฒัััะฝัั

ะัะปะธ ัะพัะธัะต ัะพะฑัะฐัั ะปะพะบะฐะปัะฝะพ:

```
go mod download
go build -o service ./cmd/main.go
./service
```

---

## ๐ API ะะพะบัะผะตะฝัะฐัะธั

### 1. ะกะพะทะดะฐัั ะบะพัะพัะบัั ัััะปะบั

**POST** `/api/short`

**ะขะตะปะพ ะทะฐะฟัะพัะฐ (JSON):**

```
{
  "url": "https://example.com",
  "custom_alias": "myalias" // ะฝะตะพะฑัะทะฐัะตะปัะฝัะน ะฟะฐัะฐะผะตัั
}
```

**ะัะฒะตั:**

```
{
  "url": "https://example.com",
  "short_url": "myalias",
  "custom_alias": "myalias",
  "expireData": "2025-04-27T22:00:00Z"
}
```

---

### 2. ะะตัะตะนัะธ ะฟะพ ะบะพัะพัะบะพะน ัััะปะบะต

**GET** `/{short_link}`

- ะัะพะธััะพะดะธั ัะตะดะธัะตะบั ะฝะฐ ะพัะธะณะธะฝะฐะปัะฝัะน URL.
    

---

### 3. ะะพะปััะธัั ััะฐัะธััะธะบั ะฟะพ ัััะปะบะต

**GET** `/api/stat/{short_link}`

**ะัะฒะตั:**

```
{
  "short_id": "myalias",
  "clicks": 3,
  "details": [
    {
      "clicked": "2025-04-27T21:00:00Z",
      "ip_address": "192.168.1.1",
      "user_agent": "Mozilla/5.0",
      "country": "US",
      "device_type": "mobile"
    },
    ...
  ]
}
```

---

## ๐ณ ะัััััะน ะดะตะฟะปะพะน ะฝะฐ Railway

1. ะะตัะตะนะดะธัะต ะฝะฐ [railway.app](https://railway.app/).
    
2. ะะฐะถะผะธัะต **New Project** โ **Deploy from GitHub Repo**.
    
3. ะัะฑะตัะธัะต ััะพั ัะตะฟะพะทะธัะพัะธะน.
    
4. Railway ะฐะฒัะพะผะฐัะธัะตัะบะธ ะพะฟัะตะดะตะปะธั Dockerfile ะธ ะทะฐะฟัััะธั ะฟัะธะปะพะถะตะฝะธะต.
    

> โก๏ธ ะัะปะธ ะฝัะถะฝั ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั, ะฝะฐัััะพะนัะต ะธั ะฒ ัะฐะทะดะตะปะต **Variables**.

---

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
.
โโโ cmd/
โ   โโโ main.go       # ะขะพัะบะฐ ะฒัะพะดะฐ ะฒ ะฟัะธะปะพะถะตะฝะธะต
โโโ pkg/
โ   โโโ postgres/     # ะะฐะฑะพัะฐ ั ะฑะฐะทะพะน ะดะฐะฝะฝัั PostgreSQL
โ   โโโ short/        # ะะตะฝะตัะฐัะธั ะบะพัะพัะบะธั ัััะปะพะบ
โโโ db/
โ   โโโ migrations/   # SQL ะผะธะณัะฐัะธะธ ะดะปั ะฑะฐะทั ะดะฐะฝะฝัั
โโโ config/
โ   โโโ config.yaml   # ะะพะฝัะธะณ ะฟัะธะปะพะถะตะฝะธั
โโโ docker/
โ   โโโ Dockerfile    # ะะฝััััะบัะธั ะฟะพ ัะฑะพัะบะต ะพะฑัะฐะทะฐ
โโโ docker-compose.yml
โโโ README.md
โโโ go.mod
```

---

## โจ ะะปะฐะฝั ะฝะฐ ะฑัะดััะตะต

- ะััะตะฝัะธัะธะบะฐัะธั ะดะปั ัะพะทะดะฐะฝะธั ะฟัะธะฒะฐัะฝัั ัััะปะพะบ
    
- ะะตะฑ-ะธะฝัะตััะตะนั
    
- ะะฐััะธัะตะฝะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ
    

---

## ๐งโ๐ป ะะฒัะพั

- Telegram: @timurghub
    
- GitHub: [vizurth](https://github.com/vizurth)
